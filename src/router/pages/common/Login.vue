<template>
  <div>
    <div class="panel row">
      <div class="login-panel">
        <div class="login-panel-top">
          <div class="logo">
            <img src="http://login.jiujiuke.net/Assets/images/logo4.png" alt="">
          </div>
          <span class="span1">登录您的</span><span class="span2">招财喵</span>
        </div>
        <div class="login-panel-middle">
          <form class="login-form">
            <div class="tel-pannel">
              <svg t="1605960071788" class="icon telIcon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1539" ><path d="M351.988168 131.844817c-22.174022 0-45.686529 23.411199-45.686529 45.686529l0 639.606283c0 22.37459 24.00267 45.686529 45.686529 45.686529l319.803653 0c20.455891 0 45.685505-23.433712 45.685505-45.686529L717.477326 177.530322c0-22.397103-23.556509-45.686529-45.685505-45.686529M466.203466 177.530322l114.216321 0c12.625552 0 22.596647 5.097088 22.596647 11.432377 0 6.312776-11.912307 11.409864-22.596647 11.409864L443.360202 200.372563c-11.45489 0-22.508643-5.097088-22.508643-11.409864 0-6.335289 11.165294-11.432377 22.508643-11.432377L466.203466 177.530322zM512.06805 817.260425c-12.224416 0-23.155373-10.151197-23.155373-22.954805 0-12.805654 10.930957-23.010063 23.155373-23.010063 12.893658 0 22.833031 10.205433 22.833031 23.010063C534.901081 807.109228 524.961708 817.260425 512.06805 817.260425L512.06805 817.260425zM671.791821 725.764572l-319.803653 0L351.988168 246.059092l319.803653 0L671.791821 725.764572z" p-id="1540" fill="#cccccc"></path></svg>
              <input type="text" placeholder="请输入您的手机号码" v-model="username">
            </div>
            <div class="password-pannel">
              <svg t="1605960393363" class="icon pwdIcon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2368" ><path d="M387.698 459c37.257 19.176 79.515 30 124.302 30 44.787 0 87.045-10.824 124.302-30H819v352c0 17.673-14.327 32-32 32H205V491c0-17.673 14.327-32 32-32h150.698zM256 395c0-141.385 114.615-256 256-256s256 114.615 256 256h-96c0-88.366-71.634-160-160-160s-160 71.634-160 160h-96z" p-id="2369" fill="#CCCCCC"></path></svg>
              <input type="password" placeholder="请输入您的登录密码" v-model="password">
            </div>
            <div class="login-btn-panel">
              <button @click="login(username,password)">登录</button>
              <button>注册</button>
            </div>
            <div class="wjmm">
              <a href="">忘记密码</a>
            </div>
          </form>
        </div>
        <div class="login-panel-bottom">
          <ul style="padding-left: 0">
            <li><a href=""><svg t="1605961984368" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2248" width="200" height="200"><path d="M512.268258 64.433103c-247.183323 0-447.569968 200.380501-447.569968 447.563825 0 247.189467 200.385621 447.570992 447.569968 447.570992s447.569968-200.380501 447.569968-447.569968c0-247.184347-200.386645-447.564849-447.569968-447.564849z m252.85872 584.692787c-18.997168 16.287968-43.668709-53.628042-47.2134-42.875198-8.642616 26.161294-12.695154 43.646184-38.148944 72.127602-1.35972 1.521494 29.43056 12.647032 38.148944 36.396051 8.346713 22.756875 24.596797 58.811973-81.725503 70.125906-62.389428 6.635801-107.471099-33.244533-111.964932-32.85648-8.325212 0.734126-4.618747 0-13.568528 0-7.321804 0-7.807126 0.534468-14.69685 0-1.899307-0.140272-22.632985 32.85648-115.364231 32.85648-71.878798 0-90.48177-45.243445-76.032701-70.125906 14.464428-24.877342 38.579999-32.122354 35.176604-36.06636-16.73643-19.39546-28.287904-40.1404-35.176604-58.882621-1.705793-4.666869-3.135137-9.209848-4.262434-13.574672-2.611931-10.008479-22.627866 58.76385-44.111028 42.875198-21.483162-15.883533-19.567472-56.309597-5.659014-95.003248 14.033372-39.006959 49.37687-76.562049 49.771065-84.854496 1.412962-30.849665-3.044011-35.975235 0-44.078263 6.780169-18.149391 15.034732-11.190043 15.034733-20.609788 0-118.64476 88.172909-214.829571 196.933079-214.829571 108.755051 0 196.928984 96.184811 196.928984 214.829571 0 4.554242 11.815637 0 17.474651 20.609788 1.165181 4.256291 1.968931 20.684531 0.58771 44.078263-0.658358 11.238165 29.954789 24.914202 45.777913 84.854496 15.845649 59.945414 0 88.215912-7.909514 95.003248z" fill="#68A5E1" p-id="2249"></path></svg></a></li>
           <li><a href=""><svg t="1605962380914" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4089" width="200" height="200"><path d="M512 512m-447.9 0a447.9 447.9 0 1 0 895.8 0 447.9 447.9 0 1 0-895.8 0Z" fill="#00C785" p-id="4090"></path><path d="M741.6 567.5c0-63.7-63.7-115.5-135.3-115.5-75.9 0-135.5 51.9-135.5 115.5 0 63.8 59.6 115.5 135.5 115.5 15.9 0 31.9-4 47.8-7.9l43.7 24-12-39.8c32-24 55.8-56 55.8-91.8z m-179.3-19.9c-7.9 0-15.9-7.9-15.9-15.9 0-7.9 7.9-15.9 15.9-15.9 12 0 20 7.9 20 15.9s-8 15.9-20 15.9z m87.7 0c-7.9 0-15.8-7.9-15.8-15.9 0-7.9 7.9-15.9 15.8-15.9 12 0 19.9 7.9 19.9 15.9 0.1 8-8.1 15.9-19.9 15.9z m0 0" fill="#FFFFFF" p-id="4091"></path><path d="M593.1 437.9c5.2 0 10.5 0.4 15.7 0.9-14-65.6-84.1-114.2-164.1-114.2-89.4 0-162.7 60.9-162.7 138.3 0 44.7 24.3 81.4 65 109.9l-16.2 49 56.9-28.6c20.4 4 36.7 8.1 56.9 8.1 5 0 10.1-0.2 15.1-0.7-3.2-10.8-5-22.3-5-34.1 0.1-70.9 61.2-128.6 138.4-128.6z m-87.5-44.1c12.2 0 20.3 8.1 20.3 20.4 0 12.2-8.1 20.3-20.3 20.3-12.3 0-24.5-8.1-24.5-20.3 0.2-12.3 12.4-20.4 24.5-20.4z m-113.9 40.7c-12.3 0-24.5-8.1-24.5-20.3 0-12.3 12.2-20.4 24.5-20.4s20.4 8.1 20.4 20.4c0 12-8.1 20.3-20.4 20.3z m0 0" fill="#FFFFFF" p-id="4092"></path></svg></a></li>
            <li><a href=""><svg t="1605962886954" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9771" width="200" height="200"><path d="M448.698182 482.210909c-96.814545 4.654545-175.010909 56.785455-175.010909 121.949091s78.196364 114.501818 175.010909 109.847273S623.709091 647.912727 623.709091 582.749091c-0.930909-64.232727-79.127273-105.192727-175.010909-100.538182z m65.163636 164.770909c-29.789091 39.098182-88.436364 57.716364-145.221818 26.065455-26.996364-14.894545-26.065455-43.752727-26.065455-43.752728s-11.170909-92.16 85.643637-103.330909c97.745455-12.101818 115.432727 81.92 85.643636 121.018182z" fill="#EA5D5C" p-id="9772"></path><path d="M448.698182 584.610909c-6.516364 4.654545-7.447273 13.032727-3.723637 18.618182 2.792727 5.585455 11.170909 6.516364 16.756364 1.861818 5.585455-4.654545 8.378182-13.032727 4.654546-18.618182-2.792727-5.585455-10.24-6.516364-17.687273-1.861818zM403.083636 597.643636c-18.618182 1.861818-30.72 17.687273-30.72 33.512728 0 14.894545 14.894545 26.065455 32.581819 24.203636 17.687273-1.861818 32.581818-15.825455 32.581818-31.650909s-13.963636-27.927273-34.443637-26.065455z" fill="#EA5D5C" p-id="9773"></path><path d="M512 0C229.003636 0 0 229.003636 0 512s229.003636 512 512 512 512-229.003636 512-512S794.996364 0 512 0z m197.352727 626.501818C669.323636 712.145455 538.065455 754.036364 441.250909 746.589091c-92.16-7.447273-211.316364-38.167273-223.418182-151.738182 0 0-6.516364-51.2 42.821818-117.294545 0 0 70.749091-99.607273 152.669091-128.465455 82.850909-27.927273 92.16 19.549091 92.16 48.407273-4.654545 24.203636-12.101818 38.167273 18.618182 28.858182 0 0 80.989091-38.167273 114.501818-4.654546 26.996364 26.996364 4.654545 65.163636 4.654546 65.163637s-11.170909 12.101818 12.101818 16.756363c21.410909 3.723636 94.021818 37.236364 53.992727 122.88z m-80.058182-236.450909c-8.378182 0-15.825455-7.447273-15.825454-15.825454 0-9.309091 7.447273-15.825455 15.825454-15.825455 0 0 99.607273-18.618182 87.505455 89.367273v1.861818c-0.930909 7.447273-7.447273 13.963636-15.825455 13.963636-9.309091 0-15.825455-7.447273-15.825454-15.825454 0-1.861818 15.825455-73.541818-55.854546-57.716364zM797.789091 493.381818c-2.792727 18.618182-12.101818 11.170909-22.341818 11.170909-13.032727 0-23.272727-16.756364-23.272728-29.789091 0-11.170909 4.654545-22.341818 4.654546-22.341818 0.930909-4.654545 12.101818-34.443636-7.447273-78.196363-35.374545-60.509091-106.123636-60.509091-114.501818-57.716364-8.378182 3.723636-21.410909 5.585455-21.410909 5.585454-13.032727 0-23.272727-10.24-23.272727-23.272727 0-11.170909 7.447273-19.549091 16.756363-22.341818 0 0 0 0.930909 0.930909 0.930909s1.861818 0.930909 1.861819 0.930909c10.24-1.861818 45.614545-4.654545 79.127272 3.723637 62.370909 14.894545 146.152727 83.781818 108.916364 211.316363z" fill="#EA5D5C" p-id="9774"></path></svg></a></li>
            <li><a href=""><svg t="1605962947441" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11935" width="200" height="200"><path d="M835.2 765.5c-69-71.3-155.8-118.5-250.8-137.4 49.6-31.7 82.7-87.1 82.7-150.2 0-98.2-79.9-178.2-178.2-178.2s-178.2 79.9-178.2 178.2c0 63.1 33.1 118.5 82.7 150.2-94.9 18.9-181.7 66.1-250.7 137.4-17.8 18.4-17.8 48.3 0 66.7C234.4 926.9 357.3 979 489 979c131.7 0 254.6-52.1 346.2-146.8 17.8-18.4 17.8-48.3 0-66.7zM379.6 477.9c0-60.3 49.1-109.4 109.4-109.4s109.4 49.1 109.4 109.4S549.3 587.3 489 587.3s-109.4-49-109.4-109.4zM489 910.2c-106 0-205.4-39.4-282.1-111.4 76.7-72 176.1-111.4 282.1-111.4 106 0 205.3 39.4 282.1 111.4-76.7 72-176.1 111.4-282.1 111.4z" fill="#4A5FE2" p-id="11936"></path><path d="M922.9 551.8c-17.8 0-32.7-13.7-34.1-31.4C872.7 313.9 699.6 150.8 489 150.8S105.3 313.9 89.2 520.4c-1.4 17.8-16.3 31.4-34.1 31.4-20.2 0-36-17.3-34.4-37.4C39.8 272.8 242.5 82 489 82s449.2 190.8 468.3 432.4c1.6 20.1-14.2 37.4-34.4 37.4z" fill="#A1AFFF" p-id="11937"></path></svg></a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import {pwdLogin,hello} from './../../../../api2/index'
import Swal  from 'sweetalert2'
export default {
name: "Login",
  data(){
    return{
      username:'',
      password:''
    }
  },
  methods:{
    async login(username,password){
       let user=await pwdLogin(username,password);
        if(user.code===200){

          let timerInterval
          Swal.fire({
            title: '登录成功',
            html: '正在前往招财喵会员管理系统<strong></strong> ',
            timer: 2000,
            onBeforeOpen: () => {
              Swal.showLoading()
              timerInterval = setInterval(() => {
                Swal.getContent().querySelector('strong')
                  .textContent = Swal.getTimerLeft()
              }, 100)
            },
            onClose: () => {
              clearInterval(timerInterval)
            }
          }).then((result) => {
            if (
              /* Read more about handling dismissals below */
              result.dismiss === Swal.DismissReason.timer
            ) {
              window.location.reload()

            }
          })
        }else{
          swal.fire({
            position: 'center',
            type: 'error',
            title: user.message,
            showConfirmButton: false,
            timer: 1500
          })
        }
    },
  }
}
</script>

<style lang="stylus" ref="stylesheet/stylus">
a input
  text-decoration none
  outline none

ul li
  list-style none
.panel
  position: fixed
  top 0
  left 0
  width 100%
  height 100%
  .login-panel
    width 420px
    height 480px
    margin 150px auto
    border-radius 5px
    border 1px solid #ccc
    box-shadow 1px 4px 4px #ccc
    padding 0 20px
    .login-panel-top
      height 150px
      border-bottom 1px solid #98a6ad
      overflow hidden
      text-align center
      font-size 18px
      .logo
        width 269px
        height 60px
        margin 10px auto
        img
          vertical-align center
      span
        font-size 18px
        display inline-block
        margin 10px auto
        font-weight bold
      .span1
        color #98a6ad
      .span2
        color #ff9900

    .login-panel-middle
      height 260px
      padding 20px 0
      border-bottom 1px solid #98a6ad
      .login-form
        .tel-pannel
          width 100%
          height 46px
          margin-bottom 20px
          position relative
          .telIcon
            width 30px
            height 30px
            position absolute
            left 6px
            top 8px
          input
            height 100%
            width 100%
            padding-left 50px
            color  rgba(0, 0, 0, 0.6)
            border 1px solid  #ccc
            border-radius 6px
        .password-pannel
          width 100%
          height 46px
          position relative
          .pwdIcon
            width 30px
            height 30px
            position absolute
            left 6px
            top 8px
          input
            height 100%
            width 100%
            padding-left 50px
            color  rgba(0, 0, 0, 0.6)
            border 1px solid  #ccc
            border-radius 6px
        .login-btn-panel
          margin-top 20px
          height 46px
          display flex
          justify-content space-between
          button
            width 45%
            padding 10px
          button:nth-child(1)
            background-color: #f90;
            border: 1px solid #f80;
            color #fff
          button:nth-child(2)
            background-color: #fff
            border: 1px solid #f80;
            color #f90



          input
            height 100%
            width 100%
            border none
            color  rgba(0, 0, 0, 0.6)
            padding-left 50px
            border 1px solid  #ccc
            border-radius 6px


        .wjmm
          margin-top 10px
          text-align right
          font-size 14px
          margin-right 9px
          a
            color: #ff6600;

    .login-panel-bottom
      height 70px
      text-align center
      margin-top 10px
      ul
        display flex
        justify-content center
      ul li
        float left
        margin-left 5px
      ul li a svg
        display inline-block
        width 30px
        height 30px
</style>
